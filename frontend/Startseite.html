<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>WildLifeObservation</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url('startseite.png') no-repeat center center;
      background-size: cover;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #hero { height: 100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; position:relative; }
    .overlay { position: absolute; inset: 0; background-color: rgba(255,255,255,0.3); pointer-events:none; }
    .content {
      background-color: rgba(255, 255, 255, 0.15);
      padding: 40px;
      border-radius: 16px;
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      z-index: 2;
    }
    h1 { margin-bottom: 24px; }
    .btn {
      padding: 14px 32px;
      background-color: #6e9f44;
      color: white;
      font-weight: bold;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 5px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: pointer;
      text-decoration: none;
    }
    .btn:hover { transform: scale(1.05); box-shadow: 0 8px 20px rgba(0,0,0,0.4); }
    .lang-toggle { position:absolute; top:20px; right:30px; color:white; font-weight:bold; font-size:14px; z-index:3; }
    .lang-toggle a { color:white; text-decoration:none; margin:0 5px; }
    #menuToggle { position: fixed; top: 20px; left: 20px; font-size:26px; background:none; border:none; cursor:pointer; z-index:1000; }
    #sideMenu { position: fixed; top:0; left:0; background:white; box-shadow:2px 0 8px rgba(0,0,0,0.2); padding:60px 20px 20px 20px; transform:translateX(-100%); transition: transform 0.3s ease; height:100%; z-index:999; }
    #sideMenu.open { transform: translateX(0); }
    #sideMenu ul { list-style:none; padding:0; margin:0; }
    #sideMenu li { margin-bottom:16px; }
    #sideMenu a { color:#111; text-decoration:none; font-weight:600; }
    table { width:100%; border-collapse:collapse; margin-bottom:40px; background:white; box-shadow:0 4px 10px rgba(0,0,0,0.05); border-radius:12px; overflow:hidden; }
    th, td { padding:14px 18px; text-align:left; border-bottom:1px solid #ccc; }
    th { background:#fafafa; font-weight:600; }
    .content-section { width:90%; max-width:1000px; }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <div class="lang-toggle"><a href="Startseite.html">DE</a> | <a href="Startseite-en.html">EN</a></div>
  <button id="menuToggle">&#9776;</button>
  <nav id="sideMenu">
    <ul>
      <li><a href="Startseite.html">Startseite</a></li>
      <li><a href="Anlegen.html#animalForm">Tier anlegen</a></li>
      <li><a href="Anlegen.html#genusForm">Gattung anlegen</a></li>
      <li><a href="Anlegen.html#locationForm">Ort anlegen</a></li>
      <li><a href="Anlegen.html#observationForm">Beobachtung anlegen</a></li>
    </ul>
  </nav>

  <section id="hero">
    <div class="content">
      <h1>WildLifeObservation</h1>
      <button class="btn" id="weiterButton">Ab in die Wildnis</button>
    </div>
  </section>

  <section id="animalsSection" class="content-section">
    <h1>Tiere</h1>
    <table id="animalTable">
      <thead>
        <tr><th>ID</th><th>Geschlecht</th><th>Alter</th><th>Gewicht</th><th>Größe</th><th>Gattung</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="genusSection" class="content-section">
    <h1>Gattungen</h1>
    <table id="genusTable">
      <thead>
        <tr><th>ID</th><th>Bezeichnung</th><th>Lateinische Bezeichnung</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="locationSection" class="content-section">
    <h1>Orte</h1>
    <table id="locationTable">
      <thead>
        <tr><th>ID</th><th>Kurzbezeichnung</th><th>Beschreibung</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="observationSection" class="content-section">
    <h1>Beobachtungen</h1>
    <table id="observedTable">
      <thead>
        <tr><th>ID</th><th>Tier ID</th><th>Ort ID</th><th>Datum</th><th>Zeit</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

<script>
const apiBase = 'http://localhost:8080';
function loadAnimals(){
  fetch(apiBase + '/animal').then(r=>r.json()).then(data=>{
    const tb=document.querySelector('#animalTable tbody');
    tb.innerHTML='';
    data.forEach(a=>{
      const genus=a.genus?`${a.genus.designation} (${a.genus.latinDesignation})`:'—';
      tb.innerHTML+=`<tr><td>${a.id}</td><td>${a.gender}</td><td>${a.estimatedAge}</td><td>${a.estimatedWeight}</td><td>${a.estimatedSize}</td><td>${genus}</td></tr>`;
    });
  });
}
function loadGenus(){
  fetch(apiBase + '/genus').then(r=>r.json()).then(data=>{
    const tb=document.querySelector('#genusTable tbody');
    tb.innerHTML='';
    data.forEach(g=>{tb.innerHTML+=`<tr><td>${g.id}</td><td>${g.designation}</td><td>${g.latinDesignation}</td></tr>`;});
  });
}
function loadLocations(){
  fetch(apiBase + '/location').then(r=>r.json()).then(data=>{
    const tb=document.querySelector('#locationTable tbody');
    tb.innerHTML='';
    data.forEach(l=>{tb.innerHTML+=`<tr><td>${l.id}</td><td>${l.shortTitle}</td><td>${l.description}</td></tr>`;});
  });
}
function loadObservations(){
  fetch(apiBase + '/observed').then(r=>r.json()).then(data=>{
    const tb=document.querySelector('#observedTable tbody');
    tb.innerHTML='';
    data.forEach(o=>{tb.innerHTML+=`<tr><td>${o.id??'-'}</td><td>${o.animalId??'-'}</td><td>${o.locationId??'-'}</td><td>${o.date??'-'}</td><td>${o.time??'-'}</td></tr>`;});
  });
}
loadAnimals();
loadGenus();
loadLocations();
loadObservations();

document.getElementById('weiterButton').addEventListener('click', ()=>{
  document.getElementById('animalsSection').scrollIntoView({behavior:'smooth'});
});

const menu=document.getElementById('sideMenu');
document.getElementById('menuToggle').addEventListener('click',()=>{menu.classList.toggle('open');});
</script>
</body>
</html>
